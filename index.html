<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="stylesheet.css">
</head>
<body>

    <div class="waveWrapper waveAnimation">
        <div class="waveWrapperInner bgTop">
            <div class="wave waveTop" style="background-image: url('https://front-end-noobs.com/jecko/img/wave-top.png')"></div>
        </div>
        <div class="waveWrapperInner bgMiddle">
            <div class="wave waveMiddle" style="background-image: url('https://front-end-noobs.com/jecko/img/wave-mid.png')"></div>
        </div>
        <div class="waveWrapperInner bgBottom">
            <div class="wave waveBottom" style="background-image: url('https://front-end-noobs.com/jecko/img/wave-bot.png')"></div>
        </div>

    </div>

    <div class="container">
        <nav>
            <p id="name-owner">Dejan Simonovski</p>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li id="last-item"><a href="contact.html">Contact</a></li>
            </ul>
        </nav>

        <div id="body">
            <div class="body-flex">
                <div>
                    <span style="font-size: 100px">Hello</span><p id="blink">!</p>
                    <br/>
                    Welcome to my personal web page!<br/>
                    I am a software engineering student at <a id="finki-link" href="https://finki.ukim.mk/">FINKI</a><br/>
                    (Faculty of Computer Science & Engineering)<br/><br/>

                    To learn more about me, click one of the buttons!<br/>

                </div>
                <div class="m-scroll">
                    <div class="m-scroll__title">
                        <pre style="font-size: 10px;">
#include &lt;iostream>
#include &lt;cstring>
using namespace std;

class SMS
{
protected:
    double base_price;
    char number[14];

public:
    SMS(char* num, double base_price)
    {
        this->base_price = base_price;
        strncpy(number, num, 13);
    }

    virtual double SMS_price() = 0;

    friend ostream& operator<<(ostream& os, SMS& sms)
    {
        os << "Tel: " << sms.number << " - cena: " << sms.SMS_price() << "den." << endl;
        return os;
    }

};

class RegularSMS : public SMS
{
private:
    char text[1000];
    bool roaming;
    static double percent_r;

public:
    RegularSMS(char* number, double base_price, char* text, bool roaming)
    : SMS(number, base_price)
    {
        strcpy(this->text, text);
        this->roaming = roaming;
    }

    static void set_rPercent(int p)
    {
        percent_r = p;
    }

    double SMS_price()
    {
        int num_sms = strlen(text) / 160 + 1;
        if(num_sms == 0)
            num_sms = 1;
        if(roaming)
        {
            return ((base_price * ((percent_r+100)/100)) * num_sms);
        }
        else
        {
            return ((base_price * 1.18) * num_sms);
        }
    }

};

double RegularSMS::percent_r = 300;

class SpecialSMS : public SMS
{
private:
    bool humanitarian;
    static double percent_s;

public:
    SpecialSMS(char* number, double base_price, bool humanitarian)
    : SMS(number, base_price)
    {
        this->humanitarian = humanitarian;
    }

    static void set_sPercent(int p)
    {
        percent_s = p;
    }

    double SMS_price()
    {
        if(!humanitarian)
        {
            return base_price * ((percent_s+100)/100);
        }
        else
        {
            return base_price;
        }
    }
};

double SpecialSMS::percent_s = 150;

void total_SMS(SMS** msg, int n)
{
    double rs_sum = 0, ss_sum = 0;
    int rs_count = 0, ss_count = 0;
    for(int i = 0; i < n; i++)
    {
        RegularSMS* rs = dynamic_cast&lt;RegularSMS*>(msg[i]);
        if(rs != 0)
        {
            rs_sum += rs->SMS_price();
            rs_count++;
        }
        SpecialSMS* ss = dynamic_cast&lt;SpecialSMS*>(msg[i]);
        if(ss != 0)
        {
            ss_sum += ss->SMS_price();
            ss_count++;
        }
    }
    cout << "In total, there are " << rs_count << " regular SMS with a sum of: " << rs_sum << endl
    << " In total, there are " << ss_count << " special SMS with a sum of: " << ss_sum << endl;
}


int main(){

	char tel[20], msg[1000];
	float price;
    int p;
	bool roam, hum;
	SMS  **sms;
	int n;
	int tip;

	int testCase;
	cin >> testCase;

	if (testCase == 1){
		cout << "====== Testing RegularSMS class ======" << endl;
		cin >> n;
		sms = new SMS *[n];

		for (int i = 0; i < n; i++){
			cin >> tel;
			cin >> price;
            cin.get();
			cin.getline(msg, 1000);
			cin >> roam;
			cout << "CONSTRUCTOR" << endl;
			sms[i] = new RegularSMS(tel, price, msg, roam);
			cout << "OPERATOR <<" << endl;
			cout << *sms[i];
		}
        for (int i = 0; i < n; i++) delete sms[i];
		delete[] sms;
	}
	if (testCase == 2){
		cout << "====== Testing SpecialSMS class ======" << endl;
		cin >> n;
		sms = new SMS *[n];

		for (int i = 0; i < n; i++){
			cin >> tel;
			cin >> price;
			cin >> hum;
			cout << "CONSTRUCTOR" << endl;
			sms[i] = new SpecialSMS(tel, price, hum);
			cout << "OPERATOR <<" << endl;
			cout << *sms[i];
		}
        for (int i = 0; i < n; i++) delete sms[i];
		delete[] sms;
	}
	if (testCase == 3){
		cout << "====== Testing method vkupno_SMS() ======" << endl;
		cin >> n;
		sms = new SMS *[n];

		for (int i = 0; i < n; i++){

			cin >> tip;
			cin >> tel;
			cin >> price;
			if (tip == 1) {

				cin.get();
				cin.getline(msg, 1000);
                cin >> roam;

				sms[i] = new RegularSMS(tel, price, msg, roam);

			}
			else {
				cin >> hum;

				sms[i] = new SpecialSMS(tel, price, hum);
			}
		}

		total_SMS(sms, n);
        for (int i = 0; i < n; i++) delete sms[i];
		delete[] sms;
	}
    if (testCase == 4){
		cout << "====== Testing RegularSMS class with a changed percentage======" << endl;
        SMS *sms1, *sms2;
        	cin >> tel;
			cin >> price;
            cin.get();
			cin.getline(msg, 1000);
			cin >> roam;
			sms1 = new RegularSMS(tel, price, msg, roam);
			cout << *sms1;

            cin >> tel;
			cin >> price;
            cin.get();
			cin.getline(msg, 1000);
			cin >> roam;
        	cin >> p;
        	RegularSMS::set_rPercent(p);
        	sms2 = new RegularSMS(tel, price, msg, roam);
        	cout << *sms2;

        delete sms1, sms2;
	}
    if (testCase == 5){
		cout << "====== Testing SpecialSMS class with a changed percentage======" << endl;
        SMS *sms1, *sms2;
        	cin >> tel;
			cin >> price;
			cin >> hum;
			sms1 = new SpecialSMS(tel, price, hum);
			cout << *sms1;

            cin >> tel;
			cin >> price;
			cin >> hum;
        	cin >> p;
        	SpecialSMS::set_sPercent(p);
        	sms2 = new SpecialSMS(tel, price, hum);
        	cout << *sms2;

        delete sms1, sms2;
	}

	return 0;
}

                        </pre>
                    </div>
                </div>
            </div>
        </div>
    </div>


</body>
</html>